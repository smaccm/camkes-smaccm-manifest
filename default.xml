<?xml version="1.0" encoding="UTF-8"?>

<!--
     Copyright 2014, NICTA

     This software may be distributed and modified according to the terms of
     the BSD 2-Clause license. Note that NO WARRANTY is provided.
     See "LICENSE_BSD2.txt" for details.

     @TAG(NICTA_BSD)
  -->

<manifest>
    <remote name="seL4"
        fetch="../seL4"
    />

    <remote name="sched"
        fetch="../alyons"
    />

    <remote name="ikuz"
        fetch="."
    />

    <!-- default revision for each project, and name of the remote -->
    <default revision="master"
        remote="seL4"
    />

    <!-- list of 'projects' (i.e repositories), path is relative to the path in remote above -->
    <project name="camkes-apps-simple--devel.git" path="apps/simple" revision="master"/>
    <project name="camkes-apps-simple--devel.git" path="apps/simple-linux" revision="linux"/>
    <project name="camkes-apps-simple--devel.git" path="apps/simpleflat" revision="flattened"/>
    <project name="camkes-apps-simple--devel.git" path="apps/simpledirect" revision="direct"/>
    <project name="camkes-apps-event--devel.git" path="apps/event" revision="master"/>
    <project name="camkes-apps-event--devel.git" path="apps/eventnative" revision="native-connector"/>
    <project name="camkes-apps-dataport--devel.git" path="apps/dataport"/>
    <project name="camkes-apps-smartmeter--devel.git" path="apps/smartmeter"/>

<!--
    <project name="capdl-loader-app.git" path="apps/capdl-loader-experimental"/>
-->
    <project name="camkes-apps-DARPA--devel.git" path="apps/DARPA"/>
    <project name="camkes-apps-filesystem--devel.git" path="apps/filesystem"/>
    <project name="camkes-apps-microbench--devel.git" path="apps/microbench"/>
    <project name="camkes-apps-redis--devel.git" path="apps/redis"/>
    <project name="camkes-apps-bilbyfs--devel.git" path="apps/bilbyfs"/>

    <project name="elfloader-tool.git" path="tools/elfloader"/>
    <project name="common-tool.git" path="tools/common"/>
    <project name="kbuild-tool.git" path="tools/kbuild"/>
<!--
    <project name="camkes-tool.git" path="tools/camkes" revision="development"/>
    <project name="capDL-tool.git" path="tools/capDL"/>
    <project name="python-capdl-tool.git" path="tools/python-capdl" revision="development"/>
-->
    <project name="pruner.git" path="tools/pruner"/>

    <project name="musllibc.git" path="libs/libmuslc" revision="sel4"/>
    <project name="libsel4muslcsys.git" path="libs/libsel4muslcsys" revision="master"/>
    <project name="libsel4muslcsys.git" path="libs/libsel4muslccamkes" revision="camkes"/>
    <project name="libsel4platsupport.git" path="libs/libsel4platsupport"/>
    <project name="libplatsupport.git" path="libs/libplatsupport"/>
    <project name="libcpio.git" path="libs/libcpio"/>
    <project name="libelf.git" path="libs/libelf"/>
    <project name="libsel4sync.git" path="libs/libsel4sync"/>
    <project name="libsel4vspace.git" path="libs/libsel4vspace"/>
    <project name="liblwip-socket.git" path="libs/liblwip"/>
    <project name="libethdrivers.git" path="libs/libethdrivers"/>
    <project name="libsdhcdrivers.git" path="libs/libsdhcdrivers"/>
    <project name="libsel4dma.git" path="libs/libsel4dma"/>
    <project name="libsel4debug.git" path="libs/libsel4debug"/>
    <project name="libutils.git" path="libs/libutils"/>
    <project name="libsel4simple.git" path="libs/libsel4simple"/>
    <project name="libsel4simple-stable.git" path="libs/libsel4simple-stable"/>
    <project name="libsel4simple-default.git" path="libs/libsel4simple-default"/>
    <project name="libsel4bench.git" path="libs/libsel4bench"/>
    <project name="libsel4bga.git" path="libs/libsel4bga"/>
    <project name="libsel4keyboard.git" path="libs/libsel4keyboard"/>
    <project name="libringbuffer.git" path="libs/libringbuffer"/>
    <project name="libredis.git" path="libs/libredis"/>

    <!-- forked repos: sched -->
    <project remote="sched" name="libsel4allocman.git" path="libs/libsel4allocman" revision="rt"/>
    <project remote="sched" name="seL4.git" path="kernel" revision="rt" />
    <project remote="sched" name="libsel4utils.git" path="libs/libsel4utils" revision="rt"/>
    <project remote="sched" name="libsel4sched.git" path="libs/libsel4sched"/>
    <project remote="sched" name="libsel4vka.git" path="libs/libsel4vka" revision="rt"/>

    <!-- new CAmkES scheduling context repos -->
    <project remote="ikuz" name="camkes-apps-sc--devel.git" path="apps/sc" revision="master"/> 

    <!-- forked repos: ikuz -->
    <project remote="ikuz" name="capdl-loader-app.git" path="apps/capdl-loader-experimental" revision="schedcontext"/>
    <project remote="ikuz" name="camkes-tool.git" path="tools/camkes" revision="schedcontext"/>
    <project remote="ikuz" name="capDL-tool.git" path="tools/capDL" revision="schedcontext"/>
    <project remote="ikuz" name="python-capdl-tool.git" path="tools/python-capdl" revision="schedcontext"/>

    <project remote="ikuz" name="camkes.git" path="projects/camkes" revision="schedcontext">
        <!-- symlinks to make the project structure fit the build system -->
        <linkfile src="Makefile" dest="Makefile"/>
        <linkfile src="Kbuild" dest="Kbuild"/>
        <linkfile src="Kconfig" dest="Kconfig"/>
        <linkfile src="configs" dest="configs"/>
        <linkfile src="../../tools/camkes/docs/index.md" dest="README.md"/>
        <linkfile src="tests" dest="tests"/>
        <linkfile src="../../kernel/libsel4" dest="libs/libsel4"/>
        <linkfile src="../../tools/camkes/libsel4camkes" dest="libs/libsel4camkes"/>
        <linkfile src="compile_all.sh" dest="compile_all.sh"/>
        <linkfile src="apps/adder" dest="apps/adder"/>
        <linkfile src="apps/aeroplage" dest="apps/aeroplage"/>
        <linkfile src="apps/dma-example" dest="apps/dma-example"/>
        <linkfile src="apps/dma-exampleflat" dest="apps/dma-exampleflat"/>
        <linkfile src="apps/epit" dest="apps/epit"/>
        <linkfile src="apps/exchangestring" dest="apps/exchangestring"/>
        <linkfile src="apps/filter" dest="apps/filter"/>
        <linkfile src="apps/keyboard" dest="apps/keyboard"/>
        <linkfile src="apps/lockserver" dest="apps/lockserver"/>
        <linkfile src="apps/multiclient" dest="apps/multiclient"/>
        <linkfile src="apps/multiplier" dest="apps/multiplier"/>
        <linkfile src="apps/mutex" dest="apps/mutex"/>
        <linkfile src="apps/oneplacebuffer" dest="apps/oneplacebuffer"/>
        <linkfile src="apps/prodcons" dest="apps/prodcons"/>
        <linkfile src="apps/rotate" dest="apps/rotate"/>
        <linkfile src="apps/selfconnectedevent" dest="apps/selfconnectedevent"/>
        <linkfile src="apps/selfconnectedprocedure" dest="apps/selfconnectedprocedure"/>
        <linkfile src="apps/simpleverification" dest="apps/simpleverification"/>
        <linkfile src="apps/socket" dest="apps/socket"/>
        <linkfile src="apps/terminal" dest="apps/terminal"/>
        <linkfile src="apps/testrpccall" dest="apps/testrpccall"/>
        <linkfile src="apps/testrpcthreadsafe" dest="apps/testrpcthreadsafe"/>
        <linkfile src="apps/uart" dest="apps/uart"/>
        <linkfile src="apps/uartsabre" dest="apps/uartsabre"/>
        <linkfile src="apps/ultterminal" dest="apps/ultterminal"/>
    </project>


</manifest>

